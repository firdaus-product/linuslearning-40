<!DOCTYPE html>
<html lang="ms-MY">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Kemahiran Pemulihan: Operasi Darab (Pembelajaran)</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    body { box-sizing: border-box; }
    .activity-card { min-height: 400px; }
    .number-card { transition: all .3s ease; cursor: pointer; }
    .number-card:hover { transform: scale(1.05); }
    .dragging { opacity: .5; transform: rotate(5deg); }

    /* Drop zone */
    .drop-zone {
      border: 2px dashed #cbd5e1;
      transition: all .3s ease;
      min-height: 100px;
      display: flex;
      flex-wrap: wrap;
      gap: 8px;
      align-content: flex-start;
      padding: 8px;
    }
    .drop-zone.drag-over { border-color: #3b82f6; background-color: #eff6ff; }

    /* Salah (gaya asal, dikekalkan jika perlu) */
    @keyframes shake {
      0% { transform: translateX(0); } 25% { transform: translateX(-5px); }
      50% { transform: translateX(5px); } 75% { transform: translateX(-5px); }
      100% { transform: translateX(0); }
    }
    .shake { animation: shake 0.5s ease; }

    /* ====== PEMBETULAN PADA CSS UNTUK AKTIVITI 3 ====== */
    /* Aktiviti 3: Garis Nombor */
    .number-line {
      position: relative; height: 10px; background: #9ca3af;
      /* (30 unit * 34px/unit) = 1020px */
      width: 1020px; border-radius: 5px; 
    }
    .number-line .tick {
      position: absolute; width: 2px; height: 15px;
      background: #9ca3af; top: -2.5px;
    }
    .number-line .tick-label {
      position: absolute; top: 20px;
      transform: translateX(-50%); font-size: 0.8rem;
    }
    
    /* FIX: Guna ID #nl-jumper (bukan .number-line .jumper) */
    #nl-jumper {
      position: absolute; bottom: 15px;
      font-size: 2rem; transition: left 0.5s ease;
      /* 'left' akan dikawal oleh JS (style.left) */
    }
    
    /* FIX: Guna #nl-arcs .arc (bukan .number-line .arc) */
    #nl-arcs .arc {
      position: absolute; bottom: 5px; height: 30px;
      border: 2px dashed #6d28d9; border-top-left-radius: 50px;
      border-top-right-radius: 50px; border-bottom: none;
      transform-origin: bottom center;
    }
    /* ====== TAMAT PEMBETULAN CSS ====== */
    
    /* Aktiviti 4: Pusing Tinjau */
    .grid-pusing {
      display: grid; gap: 4px; transition: all 0.5s ease;
      background-color: #f3e8ff; padding: 1rem; border-radius: 0.5rem;
    }
    .grid-dot {
      width: 2rem; height: 2rem; background-color: #8b5cf6;
      border-radius: 50%;
    }

  </style>
</head>
<body class="bg-gradient-to-br from-blue-50 to-purple-50 min-h-full">

  <div class="bg-yellow-100 border-b-4 border-yellow-300 p-4 shadow-sm sticky top-0 z-10">
    <div class="max-w-6xl mx-auto flex items-center justify-between">
      <div class="flex items-center gap-3">
        <span class="text-2xl">ğŸ“š</span>
        <span id="info-text" class="text-lg font-semibold text-gray-800">
          Pilih aktiviti untuk mula belajar darab!
        </span>
      </div>
      <button id="speak-btn"
              class="bg-yellow-300 hover:bg-yellow-400 text-yellow-800 font-bold py-2 px-4 rounded-full text-xl transition-colors duration-200"
              onclick="speakInfo()">
        ğŸ”Š
      </button>
    </div>
  </div>

  <div class="max-w-6xl mx-auto p-6">
    <div class="bg-white rounded-xl shadow-lg p-6 mb-6 activity-card flex items-center justify-center">
      <div id="activity-content" class="text-center w-full">
        <div class="py-16">
          <div class="text-6xl mb-4">âœ–ï¸</div>
          <h2 class="text-3xl font-bold text-gray-800 mb-4">
            Kemahiran Pemulihan: Operasi Darab
          </h2>
          <p class="text-xl text-gray-600 mb-8">
            Jom teroka konsep darab (kumpulan & tambah berulang) secara interaktif.
          </p>
          <div class="text-4xl">ğŸ‘‡</div>
        </div>
      </div>
    </div>

    <div class="bg-white rounded-xl shadow-lg p-6">
      <h3 class="text-2xl font-bold text-gray-800 mb-4 text-center">Pilih Aktiviti</h3>
      <div class="grid grid-cols-1 md:grid-cols-3 lg:grid-cols-5 gap-4 mb-6">
        <button onclick="loadActivity(1)"
                class="bg-blue-500 hover:bg-blue-600 text-white font-bold py-3 px-4 rounded-lg text-lg transition-colors duration-200">
          ğŸ¯ Apa Maksud Darab?
        </button>
        <button onclick="loadActivity(2)"
                class="bg-green-500 hover:bg-green-600 text-white font-bold py-3 px-4 rounded-lg text-lg transition-colors duration-200">
          ğŸ“¥ Jom Kumpul!
        </button>
        <button onclick="loadActivity(3)"
                class="bg-purple-500 hover:bg-purple-600 text-white font-bold py-3 px-4 rounded-lg text-lg transition-colors duration-200">
          ğŸ¦’ Garis Nombor
        </button>
        <button onclick="loadActivity(4)"
                class="bg-orange-500 hover:bg-orange-600 text-white font-bold py-3 px-4 rounded-lg text-lg transition-colors duration-200">
          ğŸ”„ Pusing Tinjau!
        </button>
        <button onclick="loadActivity(5)"
                class="bg-red-500 hover:bg-red-600 text-white font-bold py-3 px-4 rounded-lg text-lg transition-colors duration-200">
          âœ¨ Sifir Khas (0 & 1)
        </button>
      </div>

      <div class="flex justify-center gap-4">
        <button onclick="clearActivity()" class="bg-gray-500 hover:bg-gray-600 text-white font-bold py-2 px-6 rounded-lg text-lg transition-colors duration-200">
          ğŸ§¹ Bersih
        </button>
        <button onclick="nextActivity()" class="bg-indigo-500 hover:bg-indigo-600 text-white font-bold py-2 px-6 rounded-lg text-lg transition-colors duration-200">
          â¡ï¸ Seterusnya
        </button>
      </div>
    </div>
  </div>

  <script>
    let currentActivity = 0;
    let ttsEnabled = false;
    let currentInfo = "Pilih aktiviti untuk mula belajar darab!";
    let draggedElement = null;

    // State untuk aktiviti (dikosongkan bila aktiviti baru dimuat)
    window.activityState = {};

    /* ====== TTS ====== */
    function speak(text) {
      if (!ttsEnabled) return;
      if (!('speechSynthesis' in window)) return;
      window.speechSynthesis.cancel();
      setTimeout(() => {
        const u = new SpeechSynthesisUtterance(text);
        u.lang = 'ms-MY';
        u.rate = 0.9; u.pitch = 1.05;
        const voices = window.speechSynthesis.getVoices();
        const ms = voices.find(v => v.lang === 'ms-MY' || v.lang?.startsWith('ms'));
        if (ms) u.voice = ms;
        window.speechSynthesis.speak(u);
      }, 100);
    }
    function setInfo(text) { currentInfo = text; document.getElementById('info-text').textContent = text; }
    function speakInfo() {
      if (!ttsEnabled) {
        ttsEnabled = true;
        const btn = document.getElementById('speak-btn');
        btn.classList.add('bg-green-300', 'hover:bg-green-400');
        btn.classList.remove('bg-yellow-300', 'hover:bg-yellow-400');
      }
      speak(currentInfo);
    }

    /* ====== DnD helpers ====== */
    function dragStart(e) { draggedElement = e.target; e.target.classList.add('dragging'); }
    function dragEnd(e) { e.target.classList.remove('dragging'); document.querySelectorAll('.drop-zone').forEach(z=>z.classList.remove('drag-over')); }
    function allowDrop(e) { e.preventDefault(); if (e.currentTarget.classList.contains('drop-zone')) e.currentTarget.classList.add('drag-over'); }
    function dragLeave(e) { if (e.currentTarget.classList.contains('drop-zone')) e.currentTarget.classList.remove('drag-over'); }

    /* ====== Router ====== */
    function loadActivity(n) {
      currentActivity = n;
      window.activityState = {}; // Reset state
      const content = document.getElementById('activity-content');
      if (n === 1) return loadIntroActivity(content);
      if (n === 2) return loadCollectorActivity(content);
      if (n === 3) return loadNumberLineActivity(content);
      if (n === 4) return loadCommutativeActivity(content);
      if (n === 5) return loadSpecialSifirActivity(content);
    }

    /* ====== Aktiviti 1: Apa Maksud Darab? ====== */
    function loadIntroActivity(content) {
      setInfo("Jom lihat. 3 kumpulan 4 biji guli. Ada berapa semua?");
      content.innerHTML = `
        <h3 class="text-2xl font-bold text-blue-600 mb-6">ğŸ¯ Apa Maksud Darab?</h3>
        <div class="text-center mb-6">
          <p class="text-lg text-gray-700 mb-2">Lihat gambar ini: <strong>3 kumpulan, 4 biji guli setiap satu.</strong></p>
          <div class="flex justify-center gap-4 p-4 bg-blue-50 rounded-lg">
            <span class="text-4xl">ğŸ”µğŸ”µğŸ”µğŸ”µ</span>
            <span class="text-4xl">ğŸ”µğŸ”µğŸ”µğŸ”µ</span>
            <span class="text-4xl">ğŸ”µğŸ”µğŸ”µğŸ”µ</span>
          </div>
        </div>
        
        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
          <div class="bg-blue-100 border-2 border-blue-300 rounded-lg p-4">
            <h4 class="text-xl font-semibold text-blue-800 mb-2">Cara 1: Tambah Berulang</h4>
            <p class="text-lg">Kita tambah 4, sebanyak 3 kali.</p>
            <div class="text-2xl font-bold text-blue-900 bg-white p-3 rounded mt-2">
              4 + 4 + 4 = 12
            </div>
          </div>
          <div class="bg-blue-100 border-2 border-blue-300 rounded-lg p-4">
            <h4 class="text-xl font-semibold text-blue-800 mb-2">Cara 2: Kumpulan (Darab)</h4>
            <p class="text-lg">Kita ada 3 kumpulan 4.</p>
            <div class="text-2xl font-bold text-blue-900 bg-white p-3 rounded mt-2">
              3 Ã— 4 = 12
            </div>
          </div>
        </div>
        <p class="text-gray-600 mt-6 text-lg">Kedua-dua cara memberi jawapan yang sama: <strong>12</strong>!</p>
      `;
    }

    /* ====== Aktiviti 2: Jom Kumpul! (Drag & Drop) ====== */
    function loadCollectorActivity(content) {
      setInfo("Jom bina sifir 3. Seret 'Kumpulan 3' ke dalam kawasan di bawah.");
      window.activityState.kumpulanCount = 0;
      window.activityState.sifirSize = 3;
      content.innerHTML = `
        <h3 class="text-2xl font-bold text-green-600 mb-6">ğŸ“¥ Jom Kumpul!</h3>
        
        <div class="mb-6">
          <h4 class="text-lg font-semibold mb-2">Ambil dari sini:</h4>
          <div class="flex justify-center">
            <div class="number-card bg-green-100 border-2 border-green-300 rounded-lg p-4 text-center cursor-move"
                 draggable="true" ondragstart="dragStart(event)" ondragend="dragEnd(event)" data-size="3">
              <span class="text-3xl">ğŸ“ğŸ“ğŸ“</span>
              <div class="text-xl font-bold text-green-800">Kumpulan 3</div>
            </div>
          </div>
        </div>

        <div>
          <h4 class="text-lg font-semibold mb-2">Letak di sini:</h4>
          <div id="collector-zone" class="drop-zone bg-green-50 rounded-lg"
               ondrop="dropOnCollector(event)" ondragover="allowDrop(event)" ondragleave="dragLeave(event)">
            </div>
        </div>
        
        <div class="mt-6 p-4 bg-gray-100 rounded-lg">
          <h4 class="text-xl font-semibold text-gray-800">Hasil Anda:</h4>
          <div id="collector-tambah" class="text-xl text-gray-700 min-h-6">...</div>
          <div id="collector-darab" class="text-2xl font-bold text-green-700 min-h-8">...</div>
        </div>
      `;
    }
    
    function dropOnCollector(e) {
      e.preventDefault();
      e.currentTarget.classList.remove('drag-over');
      if (!draggedElement) return;

      const size = parseInt(draggedElement.dataset.size);
      window.activityState.kumpulanCount++;
      
      const count = window.activityState.kumpulanCount;
      const total = count * size;

      // Tambah visual ke drop zone
      const newKumpulan = document.createElement('div');
      newKumpulan.className = "p-2 bg-green-100 rounded border border-green-300";
      newKumpulan.innerHTML = `<span class="text-2xl">ğŸ“ğŸ“ğŸ“</span>`;
      e.currentTarget.appendChild(newKumpulan);
      
      // Kemas kini teks
      let tambahText = Array(count).fill(size).join(' + ');
      document.getElementById('collector-tambah').textContent = `${tambahText} = ${total}`;
      document.getElementById('collector-darab').textContent = `${count} Ã— ${size} = ${total}`;
      
      const msg = `Bagus! Anda ada ${count} kumpulan. ${count} darab ${size} ialah ${total}.`;
      setInfo(msg); speak(msg);
    }

    /* ====== Aktiviti 3: Garis Nombor Ajaib ====== */
    function loadNumberLineActivity(content) {
      setInfo("Pilih sifir dan klik 'Lompat!' untuk meneroka garis nombor.");
      window.activityState = { pos: 0, count: 0, sifir: 3 };
      
      // Lebar garis nombor: 1020px. Julat: 0-30.
      // Piksel per unit = 1020px / 30 unit = 34px/unit.
      const PIXELS_PER_UNIT = 34;

      content.innerHTML = `
        <h3 class="text-2xl font-bold text-purple-600 mb-6">ğŸ¦’ Garis Nombor Ajaib</h3>
        
        <div class="flex justify-center items-center gap-4 mb-6">
          <label for="sifir-select" class="font-semibold">Pilih Sifir:</label>
          <select id="sifir-select" onchange="resetNumberLine()" class="p-2 border border-gray-300 rounded-lg">
            <option value="2">2</option>
            <option value="3" selected>3</option>
            <option value="4">4</option>
            <option value="5">5</option>
          </select>
          <button onclick="doNumberLineJump()" class="bg-purple-500 hover:bg-purple-600 text-white font-bold py-2 px-4 rounded-lg">
            Lompat! ğŸ¦’
          </button>
          <button onclick="resetNumberLine(true)" class="bg-gray-400 hover:bg-gray-500 text-white font-bold py-2 px-4 rounded-lg">
            Reset
          </button>
        </div>

        <div class="w-full overflow-x-auto p-4 pt-12">
          <div id="nl-container" class="relative w-[1050px] mx-auto h-24">
            <div class="number-line"> 
              ${Array.from({length: 31}, (_, i) => `
                <div class="tick" style="left: ${i * PIXELS_PER_UNIT}px;">
                  <span class="tick-label">${i}</span>
                </div>
              `).join('')}
            </div>
            <div id="nl-arcs" class="absolute top-0 left-0 w-full h-full"></div>
            <div id="nl-jumper" class="jumper" style="left: -10px;">ğŸ¦’</div>
          </div>
        </div>

        <div class="mt-4 p-4 bg-purple-50 rounded-lg text-center">
          <div id="nl-darab" class="text-2xl font-bold text-purple-700">0 Ã— 3 = 0</div>
        </div>
      `;
      resetNumberLine(false); // Init
    }

    function resetNumberLine(speakMsg = true) {
      const sifir = parseInt(document.getElementById('sifir-select').value);
      window.activityState = { pos: 0, count: 0, sifir: sifir };
      
      // Pastikan #nl-jumper wujud sebelum set style
      const jumper = document.getElementById('nl-jumper');
      if (jumper) {
        jumper.style.left = `-10px`; // Set kedudukan awal zirafah ke 0
      }
      const arcs = document.getElementById('nl-arcs');
      if (arcs) {
        arcs.innerHTML = ''; // Padam semua lengkung
      }
      const darab = document.getElementById('nl-darab');
      if (darab) {
        darab.textContent = `0 Ã— ${sifir} = 0`; // Reset teks
      }

      if(speakMsg) {
        setInfo(`Garis nombor diset semula. Jom cuba Sifir ${sifir}.`);
        speak(`Garis nombor diset semula. Jom cuba Sifir ${sifir}.`);
      }
    }

    function doNumberLineJump() {
      let { pos, count, sifir } = window.activityState;
      const PIXELS_PER_UNIT = 34; // Mesti konsisten
      
      const newPos = pos + sifir;
      if (newPos > 30) {
        setInfo("Sudah sampai hujung! Sila reset."); speak("Sudah sampai hujung! Sila reset.");
        return;
      }

      const countNew = count + 1;
      const total = countNew * sifir;
      
      // Kira kedudukan zirafah (pusat di tick)
      // (total * 34px) - 10px (offset untuk center ikon)
      const jumperX = (total * PIXELS_PER_UNIT) - 10; 
      document.getElementById('nl-jumper').style.left = `${jumperX}px`;

      // Tambah arc
      const arcContainer = document.getElementById('nl-arcs');
      const arc = document.createElement('div');
      
      // Guna 34px/unit untuk pengiraan arc
      const arcWidth = sifir * PIXELS_PER_UNIT;
      arc.className = 'arc'; // Kelas ini kini dipadankan oleh #nl-arcs .arc
      arc.style.left = `${pos * PIXELS_PER_UNIT}px`; // Mula dari kedudukan 'pos' lama
      arc.style.width = `${arcWidth}px`;
      arc.style.height = `${30 + count * 5}px`; // Buat arc makin tinggi
      arcContainer.appendChild(arc);
      
      // Kemas kini teks
      document.getElementById('nl-darab').textContent = `${countNew} Ã— ${sifir} = ${total}`;
      
      window.activityState = { pos: newPos, count: countNew, sifir: sifir };
      
      const msg = `Lompatan ${countNew}! ${sifir} langkah lagi. ${countNew} darab ${sifir} ialah ${total}.`;
      setInfo(msg); speak(msg);
    }
    
    /* ====== Aktiviti 4: Pusing Tinjau! (Sifat Tukar Tertib) ====== */
    function loadCommutativeActivity(content) {
      setInfo("Lihat! 2 Ã— 6 sama dengan 6 Ã— 2. Klik 'Pusingkan'.");
      window.activityState.isPusing = false;
      content.innerHTML = `
        <h3 class="text-2xl font-bold text-orange-600 mb-6">ğŸ”„ Pusing Tinjau!</h3>
        <p class="text-lg text-gray-700 mb-4">Adakah <strong>2 kumpulan 6</strong> sama dengan <strong>6 kumpulan 2</strong>? Jom siasat!</p>
        
        <div class="text-center mb-6">
          <button onclick="doCommutativePusing()" class="bg-orange-500 hover:bg-orange-600 text-white font-bold py-3 px-6 rounded-lg text-xl">
            Pusingkan!
          </button>
        </div>

        <div class="flex flex-col items-center">
          <div id="grid-pusing" class="grid-pusing" style="grid-template-columns: repeat(6, 1fr);">
            ${Array.from({length: 12}, () => `<div class="grid-dot"></div>`).join('')}
          </div>
          <div class="mt-4 text-center">
            <h4 id="pusing-label" class="text-2xl font-bold text-orange-800">2 Ã— 6 = 12</h4>
            <h5 id="pusing-desc" class="text-lg text-gray-600">(2 baris, 6 lajur)</h5>
          </div>
        </div>
      `;
    }

    function doCommutativePusing() {
      const grid = document.getElementById('grid-pusing');
      const label = document.getElementById('pusing-label');
      const desc = document.getElementById('pusing-desc');
      
      window.activityState.isPusing = !window.activityState.isPusing;
      
      if (window.activityState.isPusing) {
        grid.style.gridTemplateColumns = 'repeat(2, 1fr)';
        label.textContent = '6 Ã— 2 = 12';
        desc.textContent = '(6 baris, 2 lajur)';
        setInfo("Sekarang ia jadi 6 Ã— 2. Bilangan masih sama, 12!");
        speak("Sekarang ia jadi 6 Ã— 2. Bilangan masih sama, 12!");
      } else {
        grid.style.gridTemplateColumns = 'repeat(6, 1fr)';
        label.textContent = '2 Ã— 6 = 12';
        desc.textContent = '(2 baris, 6 lajur)';
        setInfo("Ia kembali kepada 2 Ã— 6. Bilangannya 12!");
        speak("Ia kembali kepada 2 Ã— 6. Bilangannya 12!");
      }
    }

    /* ====== Aktiviti 5: Sifir Khas (0 & 1) ====== */
    function loadSpecialSifirActivity(content) {
      setInfo("Apa jadi jika darab dengan 0 atau 1? Jom teroka.");
      content.innerHTML = `
        <h3 class="text-2xl font-bold text-red-600 mb-6">âœ¨ Sifir Khas (0 & 1)</h3>
        
        <div class="bg-red-50 border border-red-200 rounded-lg p-4 mb-4">
          <h4 class="text-xl font-semibold text-red-800 mb-2">Teroka Sifir 0</h4>
          <p class="mb-2">Kita ada 3 bakul. Kita letak <strong>0</strong> guli dalam setiap bakul.</p>
          <div class="flex justify-center gap-4 p-4 bg-white rounded-lg mb-2 min-h-20">
            <span class="text-4xl border p-2 rounded">ğŸ§º</span>
            <span class="text-4xl border p-2 rounded">ğŸ§º</span>
            <span class="text-4xl border p-2 rounded">ğŸ§º</span>
          </div>
          <button onclick="showSifirZero()" class="bg-red-500 text-white font-bold py-2 px-4 rounded">Tunjukkan Hasil</button>
          <div id="sifir-0-hasil" class="mt-2 text-lg font-semibold text-red-900"></div>
        </div>

        <div class="bg-indigo-50 border border-indigo-200 rounded-lg p-4">
          <h4 class="text-xl font-semibold text-indigo-800 mb-2">Teroka Sifir 1</h4>
          <p class="mb-2">Kita ada 4 bakul. Kita letak <strong>1</strong> guli dalam setiap bakul.</p>
          <div class="flex justify-center gap-4 p-4 bg-white rounded-lg mb-2 min-h-20">
            <span class="text-4xl border p-2 rounded">ğŸ§º ğŸ”µ</span>
            <span class="text-4xl border p-2 rounded">ğŸ§º ğŸ”µ</span>
            <span class="text-4xl border p-2 rounded">ğŸ§º ğŸ”µ</span>
            <span class="text-4xl border p-2 rounded">ğŸ§º ğŸ”µ</span>
          </div>
          <button onclick="showSifirOne()" class="bg-indigo-500 text-white font-bold py-2 px-4 rounded">Tunjukkan Hasil</button>
          <div id="sifir-1-hasil" class="mt-2 text-lg font-semibold text-indigo-900"></div>
        </div>
      `;
    }

    function showSifirZero() {
      const hasilEl = document.getElementById('sifir-0-hasil');
      hasilEl.innerHTML = `
        <p>Tambah berulang: 0 + 0 + 0 = 0</p>
        <p class="text-xl">Ayat darab: <strong>3 Ã— 0 = 0</strong></p>
        <p class="mt-1">Kesimpulan: Apa-apa nombor darab 0, jawapannya 0.</p>
      `;
      setInfo("3 kumpulan sifar ialah sifar. 3 darab 0 ialah 0.");
      speak("3 kumpulan sifar ialah sifar. 3 darab 0 ialah 0.");
    }
    
    function showSifirOne() {
      const hasilEl = document.getElementById('sifir-1-hasil');
      hasilEl.innerHTML = `
        <p>Tambah berulang: 1 + 1 + 1 + 1 = 4</p>
        <p class="text-xl">Ayat darab: <strong>4 Ã— 1 = 4</strong></p>
        <p class="mt-1">Kesimpulan: Apa-apa nombor darab 1, jawapannya ialah nombor itu sendiri.</p>
      `;
      setInfo("4 kumpulan satu ialah 4. 4 darab 1 ialah 4.");
      speak("4 kumpulan satu ialah 4. 4 darab 1 ialah 4.");
    }

    /* ====== Kawalan Umum ====== */
    function clearActivity() {
      currentActivity = 0;
      document.getElementById('activity-content').innerHTML = `
        <div class="text-center py-16">
          <div class="text-6xl mb-4">âœ–ï¸</div>
          <h2 class="text-3xl font-bold text-gray-800 mb-4">Kemahiran Pemulihan: Operasi Darab</h2>
          <p class="text-xl text-gray-600 mb-8">Jom teroka konsep darab (kumpulan & tambah berulang) secara interaktif.</p>
          <div class="text-4xl">ğŸ‘‡</div>
        </div>
      `;
      setInfo("Pilih aktiviti untuk mula belajar darab!");
    }
    function nextActivity() {
      if (currentActivity === 0) return loadActivity(1);
      if (currentActivity < 5) return loadActivity(currentActivity + 1);
      return loadActivity(1);
    }

    // Kekalkan TTS resume pada sesetengah pelayar
    if ('speechSynthesis' in window) {
      setInterval(() => { if (window.speechSynthesis.paused) window.speechSynthesis.resume(); }, 1000);
    }
  </script>
</body>
</html>
